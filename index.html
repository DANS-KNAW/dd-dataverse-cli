<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>dd-dataverse-cli</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Manual";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> dd-dataverse-cli
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Manual</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#synopsis">SYNOPSIS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#description">DESCRIPTION</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#basic-syntax">Basic syntax</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-parameters-file-f-option">The --parameters-file f option</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#arguments">ARGUMENTS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">EXAMPLES</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation-and-configuration">INSTALLATION AND CONFIGURATION</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#building-from-source">BUILDING FROM SOURCE</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">dd-dataverse-cli</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" alt="Docs"></a> &raquo;</li><li>Manual</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/DANS-KNAW/dd-dataverse-cli/edit/master/docs/index.md"> Edit on DANS-KNAW/dd-dataverse-cli</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dd-dataverse-cli">dd-dataverse-cli<a class="headerlink" href="#dd-dataverse-cli" title="Permanent link">&para;</a></h1>
<p>Command-line client for the Dataverse API.</p>
<h2 id="synopsis">SYNOPSIS<a class="headerlink" href="#synopsis" title="Permanent link">&para;</a></h2>
<pre class="codehilite"><code>dataverse --help
</code></pre>

<h2 id="description">DESCRIPTION<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>Command-line client for the Dataverse API. It uses <a href="https://github.com/DANS-KNAW/dans-dataverse-client-lib" target="_blank">dans-dataverse-client-lib</a> to send queries to the <a href="http://guides.dataverse.org/en/latest/api/index.html" target="_blank">Dataverse API</a>. It is
currently work in progress. The target version of Dataverse is kept in sync with the latest installed by the DANS Data Stations, for example 
<a href="https://archaeology.datastations.nl/#dvfooter" target="_blank">Data Station Archaeology</a>.</p>
<h3 id="basic-syntax">Basic syntax<a class="headerlink" href="#basic-syntax" title="Permanent link">&para;</a></h3>
<pre class="codehilite"><code>dataverse &lt;object-type&gt; [options] &lt;target&gt; &lt;command&gt; [options]
</code></pre>

<ul>
<li><code>&lt;object-type&gt;</code>: the type of object to operate on, e.g. <code>dataset</code>, <code>file</code>, <code>collection</code> (i.e. a "dataverse" or "subverse").</li>
<li><code>&lt;target&gt;</code>: the target object, e.g. the DOI of a dataset. This argument can also be a file with a list of targets. The targets must be separated by
  whitespace and/or newlines, so in general a file with one target per line will work. A dash (<code>-</code>) can be used to read targets from standard input. In the case
  of the <code>collection</code> object type, leaving out the target will cause the command to default to the root dataverse.</li>
<li><code>&lt;command&gt;</code>: the command to execute on the target object. The available commands depend on the object type; for example, for a dataset it could be
  <code>publish</code>, <code>delete-draft</code>, etc. See the help for the specific object type for a list of available commands. If a list of targets is provided, the command
  will be executed on each target in turn, with exactly the same arguments.</li>
</ul>
<h3 id="the-parameters-file-f-option">The <code>--parameters-file f</code> option<a class="headerlink" href="#the-parameters-file-f-option" title="Permanent link">&para;</a></h3>
<p>Some commands accept a parameters file as input. This is generally a CSV file with target IDs and command parameters. (However, see the help of the command for
the specifics.) The <code>--parameters-file</code> option allows you to perform batch tasks on objects without being restricted to the same arguments for each object. For
example, you could assign different roles to different users on different collections.</p>
<pre class="codehilite"><code>dataverse &lt;object-type&gt; [options] &lt;command&gt; --parameters-file &lt;file&gt; [other options]
</code></pre>

<h2 id="arguments">ARGUMENTS<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h2>
<p>See <code>dataverse --help</code> for a list of available commands.</p>
<h2 id="examples">EXAMPLES<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash"># Publish one dataset
dataverse dataset doi:10.5072/dans-2xg-4y5 publish 

# Publish all datasets in the file dataset-list.txt
dataverse dataset dataset-list.txt publish 

# Publish two datasets, sending the DOIs through standard input
echo doi:10.5072/dans-2xg-4y5 doi:10.5072/dans-4zy-aab | dataverse dataset - publish

# Add roles to datasets as specified in role-assignments.csv
dataverse dataset role-assigment add --parameters-file role-assignments.csv 
</code></pre>
<h2 id="installation-and-configuration">INSTALLATION AND CONFIGURATION<a class="headerlink" href="#installation-and-configuration" title="Permanent link">&para;</a></h2>
<p>Currently, this project is built as an RPM package for RHEL8 and later. The RPM will install the binaries to
<code>/opt/dans.knaw.nl/dd-dataverse-cli</code> and the configuration files to <code>/etc/opt/dans.knaw.nl/dd-dataverse-cli</code>.</p>
<p>For installation on systems that do no support RPM and/or systemd:</p>
<ol>
<li>Build the tarball (see next section).</li>
<li>Extract it to some location on your system, for example <code>/opt/dans.knaw.nl/dd-dataverse-cli</code>.</li>
<li>Start the service with the following command
   <code>/opt/dans.knaw.nl/dd-dataverse-cli/bin/dd-dataverse-cli server /opt/dans.knaw.nl/dd-dataverse-cli/cfg/config.yml</code></li>
</ol>
<h2 id="building-from-source">BUILDING FROM SOURCE<a class="headerlink" href="#building-from-source" title="Permanent link">&para;</a></h2>
<p>Prerequisites:</p>
<ul>
<li>Java 17 or higher</li>
<li>Maven 3.6.3 or higher</li>
<li>RPM</li>
</ul>
<p>Steps:</p>
<pre class="codehilite"><code>git clone https://github.com/DANS-KNAW/dd-dataverse-cli.git
cd dd-dataverse-cli 
mvn clean install
</code></pre>

<p>If the <code>rpm</code> executable is found at <code>/usr/local/bin/rpm</code>, the build profile that includes the RPM
packaging will be activated. If <code>rpm</code> is available, but at a different path, then activate it by using
Maven's <code>-P</code> switch: <code>mvn -Pprm install</code>.</p>
<p>Alternatively, to build the tarball execute:</p>
<pre class="codehilite"><code>mvn clean install assembly:single
</code></pre>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.3.0
Build Date UTC : 2024-11-04 13:30:33.340511+00:00
-->
